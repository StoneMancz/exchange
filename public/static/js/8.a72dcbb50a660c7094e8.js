webpackJsonp([8],{M6t0:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={data:function(){return{msg:"",token:"",showConfirm:!1,showCancel:!1,hasPay:!1,id:"",src:"",password:""}},filters:{toFixeds:function(t){return(t=Number(t)).toFixed(3)}},created:function(){var t=window.localStorage.getItem("token")||"";t&&(this.token=t,this.id=this.$route.query.id,this.getData())},methods:{getData:function(){var t=this,s=layer.load();this.$http({url:"/api/legal_deal",params:{id:this.id},headers:{Authorization:this.token}}).then(function(a){layer.close(s),"ok"==a.data.type&&(t.msg=a.data.message)})},cancel:function(){var t=this;this.showCancel=!1,layer.prompt({title:t.$t("td.pwd"),formType:1,btn:[t.$t("td.confirm"),t.$t("td.canceil")]},function(s,a){t.password=s,t.$http({url:"/api/user_legal_pay_cancel",method:"post",data:{id:t.id,password:t.password},headers:{Authorization:t.token}}).then(function(s){layer.msg(s.data.message),"ok"==s.data.type&&setTimeout(function(){t.$router.push("/legalRecord")},1e3)}).then(function(){t.showCancel=!1}),layer.close(a)})},file:function(){var t=this,s=new FormData;s.append("file",$("#file")[0].files[0]);var a=layer.load();$.ajax({url:"/api/upload",type:"post",data:s,processData:!1,contentType:!1,success:function(s){layer.close(a),"ok"==s.type?(t.src=s.message,t.src?t.showConfirm=!0:layer.msg("图片上传失败")):layer.msg("图片上传失败")}})},confirm:function(){var t=this;t.showConfirm=!1,layer.prompt({title:t.$t("td.pwd"),formType:1,btn:[t.$t("td.confirm"),t.$t("td.canceil")]},function(s,a){t.password=s,t.$http({url:"/api/user_legal_pay",method:"post",data:{id:t.id,pay_orders_img:t.src,password:t.password},headers:{Authorization:t.token}}).then(function(s){layer.msg(s.data.message),"ok"==s.data.type&&setTimeout(function(){t.$router.push("/legalRecord")},1e3)}).then(function(){t.showConfirm=!1}),layer.close(a)})}}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"whites",attrs:{id:"legal-pay"}},[a("div",{staticClass:"title bg-part"},[a("span",[t._v(t._s(t.$t("fat.payPlease")))]),t._v(" "),a("span",[t._v("￥"+t._s(t._f("toFixeds")(t.msg.deal_money||"0.000")))])]),t._v(" "),a("div",{staticClass:"info bg-part"},[a("div",[a("span",[t._v(t._s(t.$t("fat.tdPrice"))+"：")]),t._v(" "),a("span",[t._v(t._s(t._f("toFixeds")(t.msg.price||"0.000"))+" "+t._s(t.msg.coin_code))])]),t._v(" "),a("div",[a("span",[t._v(t._s(t.$t("fat.tdNum"))+"：")]),t._v(" "),a("span",[t._v(t._s(t._f("toFixeds")(t.msg.number||"0.000"))+t._s(t.msg.currency_name))])]),t._v(" "),a("div",[a("span",[t._v(t._s(t.$t("fat.payinfo"))+"：")]),t._v(" "),a("span",[t._v(t._s(t.msg.way_name))])]),t._v(" "),a("div",[a("span",[t._v(t._s(t.$t("ctc.account"))+"：")]),t._v(" "),a("span",[t._v(t._s(t.msg.hes_account))])]),t._v(" "),a("div",[a("span",[t._v(t._s(t.$t("fat.realName"))+"：")]),t._v(" "),a("span",[t._v(t._s(t.msg.hes_realname))])]),t._v(" "),a("div",[a("span",[t._v(t._s(t.$t("td.callWay"))+"：")]),t._v(" "),a("span",[t._v(t._s(t.msg.seller_phone))])]),t._v(" "),a("div",[a("span",[t._v(t._s(t.$t("td.renum"))+"：")]),t._v(" "),a("span",[t._v(t._s(t.msg.id))])]),t._v(" "),t.msg.bank_address?a("div",[a("span",[t._v(t._s(t.$t("fat.shoperZname"))+"：")]),t._v(" "),a("span",[t._v(t._s(t.msg.bank_address))])]):t._e(),t._v(" "),a("div",[a("span",[t._v(t._s(t.$t("fat.shoperNum"))+"：")]),t._v(" "),a("router-link",{staticStyle:{color:"#638bd4",cursor:"pointer"},attrs:{to:{path:"/legalSeller",query:{sellerId:t.msg.seller_id}},tag:"span"}},[t._v(t._s(t.msg.seller_name))])],1),t._v(" "),a("div",["微信"==t.msg.way_name?a("div",{staticClass:"flex alcenter"},[a("span",[t._v(t._s(t.$t("td.paycode"))+"：")]),t._v(" "),a("img",{staticClass:"mt10 ",staticStyle:{width:"150px"},attrs:{src:t.msg.sell_info&&t.msg.sell_info.wechat_collect,alt:""}})]):t._e(),t._v(" "),"支付宝"==t.msg.way_name?a("div",{staticClass:"flex alcenter"},[a("span",[t._v(t._s(t.$t("td.paycode"))+"：")]),t._v(" "),a("img",{staticClass:"mt10",staticStyle:{width:"150px"},attrs:{src:t.msg.sell_info&&t.msg.sell_info.alipay_collect,alt:""}})]):t._e()]),t._v(" "),a("div",{staticClass:"btns"},[a("div",{staticClass:"btn",on:{click:function(s){t.showCancel=!0}}},[t._v(t._s(t.$t("fat.odCeil")))]),t._v(" "),a("div",{staticClass:"btn",on:{click:function(s){t.showConfirm=!0}}},[t._v(t._s(t.$t("fat.imPay")))]),t._v(" "),a("div",{staticClass:"btn imgbtn"},[t._v("\n        我已付款，上传付款凭证\n        "),a("input",{attrs:{type:"file",id:"file",accept:"image/*"},on:{change:t.file}})])])]),t._v(" "),t.showCancel?a("div",{staticClass:"cancel-box"},[a("div",{staticClass:"content"},[a("div",[t._v(t._s(t.$t("fat.tdCeil")))]),t._v(" "),a("div",[t._v(t._s(t.$t("fat.pCeil")))]),t._v(" "),a("div",{staticClass:"yes-no flex"},[a("div",{on:{click:function(s){t.showCancel=!1}}},[t._v(t._s(t.$t("td.canceil")))]),t._v(" "),a("div",{on:{click:t.cancel}},[t._v(t._s(t.$t("td.confirm")))])])])]):t._e(),t._v(" "),t.showConfirm?a("div",{staticClass:"confirm-box"},[a("div",{staticClass:"content"},[a("div",[t._v(t._s(t.$t("fat.paySure")))]),t._v(" "),a("div",[t._v(t._s(t.$t("fat.pdopay")))]),t._v(" "),a("div",[t._v(t._s(t.$t("fat.badClick")))]),t._v(" "),a("div",{staticClass:"yes-no flex"},[a("div",{on:{click:function(s){t.showConfirm=!1}}},[t._v(t._s(t.$t("td.canceil")))]),t._v(" "),a("div",{on:{click:t.confirm}},[t._v(t._s(t.$t("td.confirm")))])])])]):t._e()])},staticRenderFns:[]};var n=a("VU/8")(e,i,!1,function(t){a("ipE3")},null,null);s.default=n.exports},ipE3:function(t,s){}});
//# sourceMappingURL=8.a72dcbb50a660c7094e8.js.map